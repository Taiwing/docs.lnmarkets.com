tags:
  - User

security:
  - jwtAuth: ['user']
  - cookieAuth: []

deprecated: false
summary: Confirm recovery email with confirmationToken
description: |
  Confirm recovery email so that the user can reset his password if he loses it
operationId: V1_User_emailConfirm
requestBody:
  description: |
    Payload that countains the token to confirm the recovery email.
  required: true
  content:
    application/json:
      schema:
        type: object
        required:
          - 'confirmationToken'
        properties:
          'confirmationToken':
            description: One-time use token to confirm email address
            type: string
            pattern: '^[a-zA-Z0-9]{64}$'

        example:
          confirmationToken: '682f2afb2a551a4dd5e5e29800b95547ff54b232b2da3ffa9a97173037d464bc'

responses:
  200:
    description: |
      Recovery Email is confirmed and therfore usable
    content:
      application/json:
        schema:
          type: object
          required:
            - 'confirmationSuccess'
            - 'confirmedEmail'
          properties:
            'confirmationSuccess':
              description: Success of the recovery email confirmation
              type: boolean

            'confirmedEmail':
              description: Recovery email address confirmed
              type: string

        example:
          emailConfirmed: 'dogecoin@touzemoune.com'

  400:
    $ref: '../../../responses.yaml#/badParameters'

  401:
    $ref: '../../../responses.yaml#/unauthorized'
