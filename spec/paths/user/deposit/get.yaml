tags:
  - User

security:
  - jwtAuth: ['user']
  - cookieAuth: []

deprecated: false
summary: Deposit
description: |
  Get deposit history
operationId: V1_User_getDepositHistory
parameters:
  - name: 'nbItem'
    in: query
    description: Maximum length of the returned table.
    required: false
    schema:
      type: integer
      minimum: 1
      example: 15

  - name: 'index'
    in: query
    description: Which page we want (offset = nbItem * (index - 1)).
    required: false
    schema:
      type: integer
      minimum: 1
      example: 1

  - name: 'getLength'
    in: query
    description: Return the length of the date slice given.
    required: false
    schema:
      type: boolean
      example: false

  - name: 'start'
    in: query
    description: Start of the time interval (UNIX UTC timestamp)
    required: false
    schema:
      type: integer
      example: 1590969600000

  - name: 'end'
    in: query
    description: End of the time interval (UNIX UTC timestamp)
    required: false
    schema:
      type: integer
      example: 1603065600000

responses:
  200:
    description: |
      History sucessfully pulled.
    content:
      application/json:
        schema:
          type: object
          properties:
            'transaction':
              type: array
              items:
                type: object
                properties:
                  'id':
                    description: Deposit ID in case of deposit
                    type: string

                  'amount':
                    description: Amount in sat
                    type: integer

                  'creation_ts':
                    description: When the transaction was initiated
                    type: string
                    format: date-time

                  'payment_hash':
                    type: string
                    example: 33f45c13c7ddcae46c6732414552893ca599f9399c62ffc2cfae209e8b17c5c3

                  'success':
                    type: boolean
                    example: false

                  'sucess_ts':
                    type: string
                    format: date-time
                    nullable: true
                    example: null

          example:
            transaction:
              - id: 269157f3-d4a1-4493-afcb-5e8fdaa49288
                amount: 99400
                creation_ts: 020-09-15T10:50:40.332Z
                success: true
                payment_hash: 33f45c13c7ddcae46c6732414552893ca599f9399c62ffc2cfae209e8b17c5c3
                sucess_ts: 020-09-15T10:50:40.332Z

  400:
    $ref: '../../../responses.yaml#/badParameters'

  401:
    $ref: '../../../responses.yaml#/unauthorized'
